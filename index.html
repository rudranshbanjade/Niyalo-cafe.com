<!DOCTYPE html>
<html>
<head>
  <title>Niyalo Cafe Menu</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>
<body style="font-family:sans-serif;padding:20px;background:#fcf3ec;">

<div style="max-width:600px;margin:0 auto;background:white;padding:30px;border-radius:30px;">

  <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:30px;">
    <h1 style="font-size:2rem;">‚òï NIYALO</h1>
    <span style="background:#2d5a4b;color:white;padding:8px 16px;border-radius:30px;">LIVE</span>
  </div>

  <div id="menuContent" style="text-align:center;padding:40px;">
    <p>Loading menu...</p>
  </div>

</div>

<script>
// ===== YOUR SUPABASE KEYS =====
const SUPABASE_URL = 'https://outxrzhbocvopmvizzf.supabase.co';
const SUPABASE_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im91dHhyemhib2N2b3Btdml6emYiLCJyb2xlIjoiYW5vbiIsImlhdCI6MTczOTU5NzM4NywiZXhwIjoyMDU1MTczMzg3fQ.qLfjrV_XpIs9tRr8CM3c0qOcw23VCl50trbKnS73fYw';

// Initialize Supabase
const supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_KEY);

async function loadMenu() {
  try {
    const { data, error } = await supabase
      .from('menus')
      .select('*')
      .eq('id', 1)
      .single();
    
    if (data && data.data) {
      document.getElementById('menuContent').innerHTML = `
        <div style="text-align:left;">
          <h2>${data.data.hotel.name}</h2>
          <p>üìç ${data.data.hotel.location}</p>
          <p>üìû ${data.data.hotel.phone}</p>
          <p>‚è∞ ${data.data.hotel.hours}</p>
        </div>
      `;
    }
  } catch (e) {
    document.getElementById('menuContent').innerHTML = '<p>Error loading menu</p>';
  }
}

// Load immediately and every 2 seconds
loadMenu();
setInterval(loadMenu, 2000);
</script>

</body>
</html>
